<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Vishnu Asokan | Frontend Developer</title>
<style>
  html, body { margin:0; padding:0; overflow:hidden; font-family: Arial, sans-serif; }
  canvas { display:block; }
  /* Overlay text for portfolio sections */
  .overlay {
    position: absolute;
    top:50%; left:50%;
    transform: translate(-50%, -50%);
    color: #ff4d6d;
    text-align:center;
    z-index: 10;
    pointer-events: none;
  }
  .overlay h1 { font-size: 3rem; margin-bottom: 10px; }
  .overlay p { font-size: 1.2rem; opacity:0.8; }
</style>
</head>
<body>

<div class="overlay" id="overlay">
  <h1>Welcome to the New World</h1>
  <p>Frontend Developer | Vishnu Asokan</p>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.2/gsap.min.js"></script>
<script>
  let scene, camera, renderer;
  let particleGroup = new THREE.Group();

  init();
  animate();

  function init() {
    // Scene
    scene = new THREE.Scene();
    scene.fog = new THREE.FogExp2(0x0f0f14, 0.01);

    // Camera
    camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
    camera.position.set(0,2,10);

    // Renderer
    renderer = new THREE.WebGLRenderer({antialias:true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    // Lights
    const ambient = new THREE.AmbientLight(0xffffff,0.5);
    scene.add(ambient);
    const dirLight = new THREE.DirectionalLight(0xffffff,0.8);
    dirLight.position.set(5,10,7);
    scene.add(dirLight);

    // Ground plane (city floor)
    const planeGeo = new THREE.PlaneGeometry(1000,1000);
    const planeMat = new THREE.MeshPhongMaterial({color:0x111122});
    const plane = new THREE.Mesh(planeGeo, planeMat);
    plane.rotation.x = -Math.PI/2;
    scene.add(plane);

    // Add some cubes as buildings (pseudo-city)
    for(let i=0;i<50;i++){
      const geo = new THREE.BoxGeometry(Math.random()*2+1, Math.random()*5+2, Math.random()*2+1);
      const mat = new THREE.MeshPhongMaterial({color: 0xff4d6d});
      const cube = new THREE.Mesh(geo, mat);
      cube.position.set((Math.random()-0.5)*50, geo.parameters.height/2, (Math.random()-0.5)*50);
      scene.add(cube);
    }

    // Particles for VFX
    for(let i=0;i<100;i++){
      const dotGeo = new THREE.SphereGeometry(0.05,4,4);
      const dotMat = new THREE.MeshBasicMaterial({color:0xff4d6d, transparent:true, opacity:0.6});
      const dot = new THREE.Mesh(dotGeo, dotMat);
      dot.position.set((Math.random()-0.5)*50, Math.random()*10+1, (Math.random()-0.5)*50);
      particleGroup.add(dot);
    }
    scene.add(particleGroup);

    // Start cinematic camera fly-through
    gsap.to(camera.position, {duration:5, x:10, z:-20, y:5, onUpdate:updateOverlay, onComplete:showAbout});
  }

  function updateOverlay(){
    // Could fade overlay as camera moves
    document.getElementById('overlay').style.opacity = 1 - camera.position.z/20;
  }

  function showAbout(){
    document.getElementById('overlay').innerHTML = "<h1>About Me</h1><p>After BCA, I built real-world frontend projects, improving HTML, CSS, JS skills.</p>";
    gsap.to(camera.position, {duration:5, x:-10, z:-40, y:6, onComplete:showProjects});
  }

  function showProjects(){
    document.getElementById('overlay').innerHTML = "<h1>Projects</h1><p>Interactive Valentine Web App + more projects coming soon.</p>";
    gsap.to(camera.position, {duration:5, x:0, z:-60, y:7, onComplete:showContact});
  }

  function showContact(){
    document.getElementById('overlay').innerHTML = "<h1>Contact</h1><p>Email: <a href='mailto:vishnuasokan236@gmail.com' style='color:#ff77aa;'>vishnuasokan236@gmail.com</a></p>";
    gsap.to(camera.position, {duration:5, x:0, z:-80, y:8});
  }

  function animate(){
    requestAnimationFrame(animate);
    // Rotate particles slowly
    particleGroup.rotation.y += 0.001;
    renderer.render(scene,camera);
  }

  window.addEventListener('resize', ()=>{
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
</script>

</body>
</html>
