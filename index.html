<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Vishnu Asokan | Frontend Developer</title>
<style>
html, body { margin:0; padding:0; overflow:hidden; font-family: Arial, sans-serif; }
canvas { display:block; }
.overlay {
  position:absolute;
  top:50%; left:50%;
  transform:translate(-50%,-50%);
  color:#ff4d6d;
  text-align:center;
  z-index:10;
  pointer-events:none;
}
.overlay h1 { font-size:3rem; margin-bottom:10px; }
.overlay p { font-size:1.2rem; opacity:0.8; }
a { color:#ff77aa; text-decoration:none; }
</style>
</head>
<body>

<div class="overlay" id="overlay">
  <h1>Welcome to the New World</h1>
  <p>Frontend Developer | Vishnu Asokan</p>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.2/gsap.min.js"></script>

<script>
// === SCENE SETUP ===
let scene = new THREE.Scene();
scene.fog = new THREE.FogExp2(0x0f0f14,0.01);

let camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.set(0,2,15);

let renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// LIGHTS
let ambient = new THREE.AmbientLight(0xffffff,0.5);
scene.add(ambient);
let dirLight = new THREE.DirectionalLight(0xffffff,0.8);
dirLight.position.set(5,10,7);
scene.add(dirLight);

// GROUND
let plane = new THREE.Mesh(
  new THREE.PlaneGeometry(1000,1000),
  new THREE.MeshPhongMaterial({color:0x111122})
);
plane.rotation.x = -Math.PI/2;
scene.add(plane);

// BUILDINGS / CITY
for(let i=0;i<60;i++){
  const geo = new THREE.BoxGeometry(Math.random()*2+1,Math.random()*5+2,Math.random()*2+1);
  const mat = new THREE.MeshPhongMaterial({color:0xff4d6d});
  const cube = new THREE.Mesh(geo, mat);
  cube.position.set((Math.random()-0.5)*60, geo.parameters.height/2, (Math.random()-0.5)*60);
  scene.add(cube);
}

// PARTICLES
let particleGroup = new THREE.Group();
for(let i=0;i<120;i++){
  const dotGeo = new THREE.SphereGeometry(0.05,4,4);
  const dotMat = new THREE.MeshBasicMaterial({color:0xff4d6d, transparent:true, opacity:0.6});
  const dot = new THREE.Mesh(dotGeo,dotMat);
  dot.position.set((Math.random()-0.5)*50, Math.random()*10+1, (Math.random()-0.5)*50);
  particleGroup.add(dot);
}
scene.add(particleGroup);

// === CINEMATIC SEQUENCE ===
const overlay = document.getElementById('overlay');

function showSection(title,text,duration,nextFunc){
  overlay.innerHTML = `<h1>${title}</h1><p>${text}</p>`;
  gsap.to(camera.position, {duration:duration, x:(Math.random()-0.5)*20, z:camera.position.z-20, y:3+Math.random()*4, onComplete:nextFunc});
}

function startCinematic(){
  showSection("About Me","After BCA, I built real-world frontend projects, improving HTML, CSS, JS skills.",5,()=>{
    showSection("Projects","Interactive Valentine Web App + more coming soon.",5,()=>{
      showSection("CV","Education: BCA – Koshys Institute of Management Studies – 2022-2025<br>Skills: HTML, CSS, JS, Responsive Design, Git & GitHub, Basic APIs<br>Experience & Achievements: See portfolio projects",5,()=>{
        showSection("Contact","Email: <a href='mailto:vishnuasokan236@gmail.com'>vishnuasokan236@gmail.com</a>",5,()=>{});
      });
    });
  });
}

// START ON CLICK OR ENTER
document.addEventListener('click', startCinematic);
document.addEventListener('keydown', e=>{if(e.key==='Enter') startCinematic();});

// ANIMATE PARTICLES
function animate(){
  requestAnimationFrame(animate);
  particleGroup.rotation.y += 0.001;
  renderer.render(scene,camera);
}
animate();

// RESIZE
window.addEventListener('resize', ()=>{
  camera.aspect = window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>

</body>
</html>
